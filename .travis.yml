language: node_js
node_js:
- node
sudo: required
dist: trusty
addons:
  firefox: '51.0'
notifications:
  slack: unolabs:cbusXPH6pBwZ35rVDzi4k4ve
env:
  global:
    secure: lg9IPnz1elcFm9ptffMfq7C4T2AKctqEH3ns2SkXJTHCBKNXTe59B9j53d7TL6CDeXrAO26RJhIMNZYxOKHLLShd4sqW3mEa1fZteubCyf1rfT/RoRZ8WkblnS/GhhKULuwLrDPnGsldhje2Wl9duZQb2qkKU48zhQiLZxVFVr3X8ucrKb+DzcwFxoZtf2IPpA/PNL5vHHedmA4+avO4RB3ZhWikLfdC4hARGeCrZQIOW51VfDqxxGu+B45bjNn6qjnL/pugOauzWs+6TEqdftj0l6N6ucBEk7yEwFOdFphaILHU42IOA7CCJ+Szv2OqPQ+eIBH7c1aTkDZcChG0NZRLRZyXP1tmcNrjuRw6nuHMSjrYi3vKEyBO8MaRgxbrLu03IdyjSOPPL8YFHggXkvrTnKUq1V9ZZszLx75mXsuGo+qyRnxF1wyQD2IVCMXIMH3QtbUYtrEbt5rUU9thHXBWKJkBkOJT5C+Pa9AD3x72mDj9YbaxsJLTC+o1tHvCVzpTPaARdxck9LzMsUlKvMiaMEtte6k6QtJlkcRpxBSUbHZn0unEHRHuwlJuRN5OK+DRIFO5FFWG91CGipHOd2gTsqETYsjafM00T3FuPaSDtH/1gBWL6VC6azQSGyuFqOsu4EddgP9LGhk/g1KhF6p5Rvuuvewc/DCybm0Tl08=
before_install:
- sudo apt-get update
- sudo apt-get install -y libappindicator1 fonts-liberation
- export DISPLAY=:99.0
- wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
- sudo dpkg -i google-chrome*.deb
- export CHROME_BIN=/usr/bin/google-chrome
before_script:
- sh -e /etc/init.d/xvfb start
- nohup bash -c "webdriver-manager start 2>&1 &";
- cd src/Unosquare.Tubular2.Web
- npm install
script:
- gulp build
- cd ../..
- npm run test-once
- npm run e2e
- chmod +x ./publish.sh
- ./publish.sh
